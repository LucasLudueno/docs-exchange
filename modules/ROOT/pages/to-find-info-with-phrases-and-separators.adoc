= Search for Assets-with phrases and separators
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images/

Find assets and refine search results in Exchange using the following filters that are available from the asset portal:

*  Search all assets field
* Any type
* Any organization
* Any category
* Any tag
* Any Lifecycle state

image:exchange-new-search.png[Exchange search experience]


Search uses query language to search assets by tags, categories, custom fields, and lifecycle states. 




=== Search Using Phrases 

To search for case-insensitive text that begins with each word you specify, put a space between words.
This is similar to putting the `*` wildcard regular expression after each word.
For example, searching for `mq module` finds any asset that has text that
starts with `mq` or `module`.

Searching for a multiple word phrase shows assets that have every word in the phrase.

If you separate search words with any non-alphanumeric character other than a space, Anypoint Exchange
converts the character to a space before searching.

=== Search Using Separators

Use search separators to find Exchange assets that contain one or more terms.

If you input search words connected by non-alphanumeric symbols, Exchange replaces the symbols with spaces before searching for the term. The search string only succeeds if both words are present in the result. This is the same as the `word1 AND word2` relationship.

Example search terms:

[source,text,linenums]
----
sales:connect
Sales-Connect
connect:/sales
-connect -sales
----

This table shows how each search term is interpreted based on the values in the asset name,
asset ID, and tags for an asset. If the search term maps to the values correctly, a match occurs. If not,
the reason is provided.

[%header%autowidth.spread]
|===
|Asset Name |Asset ID |Tags |Matches?
|Salesforce API |salesforce-api |mule-Connector |Yes
|Salesforce Connector |salesforce-connector |REST |Yes
|Validations API |validations-api |salesforce-connecting |Yes
|Optimized API |optimized-api |resource:/connect, salesforce:enabled |Yes
|Cisco Sales API  |cisco-sales-api |Connecting, Productive |Yes
|Cisco Connector |cisco-connector |com.cisco.connector.sales
|Yes, because the tag is split into separate terms.
|Salesforce API |salesforce-api |muleconnector, MuleConnector |No. `connect` was not found.
|Salesforce Connec |salesforce-connec |REST |No. `connect` was not found.
|Validations API |validations-api |connector |No. `sales` was not found.
|Cisco Presales API |cisco-presales-api |Connector, api |No. `sales` was not found.
|===

=== Phrase Search Separators

Use phrase search to find a group of terms inside quotation marks. Phrase searches match an asset only if all the exact terms inside quotes appear in consecutive order.

If you input any of these searches in Exchange, Exchange replaces non-alphanumeric symbols with spaces before searching for assets.

Example search terms:

[source,text,linenums]
----
Api: "Sales connect"
Api "Sales-connect"
Api "Sales:/connect"
Api-"Sales/connect"
"Sales connect":Api
----

This table shows how each search term is interpreted based on the values in the asset name,
asset ID, and tags for an asset. If the search term maps to the values correctly, a match occurs. If not,
the reason is provided.

[%header%autowidth.spread]
|===
|Asset Name |Asset ID |Tags |Matches?
|Salesforce API |salesforce-api |mule-Connector |No. `sales connect` was not found.
|Salesforce Connector |salesforce-connector |REST |No
|Sales Connect Asset |validations-api |mule-connector |Yes
|Sales Connect Images |validations-images |mule-connector |No. `api` was not found.
|Optimized API |optimized-api |resource:/connect, sales:enabled |No. `sales connect` was not found.
|Optimized API |optimized-api |resource:/sales, connect:enabled |No. `sales connect` was not found, because each term is in different tags.
|Optimized API |optimized-api |sales:/connect |Yes
|===

== Search by Type

Exchange supports the following asset types:

* API Groups
* API Spec Fragments
* Connectors
* Custom
* Examples
* HTTP APIs
* Policies
* REST APIs
* SOAP APIs
* Templates

To search by asset type:

. Click *Any type*.
. Select from the list. You can select more than one type.
. Click *Apply*. The corresponding assets display in the search results.

=== Search API Specifications

The following API specification properties are used in search:

* API title
* Base URI
* Endpoints
** Path
** Display name
** Description
* Methods
** Method type (GET, POST, PUT)
** Description
* Query parameters
** Name
** Description
* URI parameters
** Name
* Types
** Name
** Properties
* Traits
* Properties
* Security schemas

These property names are based on RAML specifications. Equivalent properties are indexed for OAS specifications. For example, RAML uses base URI but OAS uses host and path.

This example shows an API specification:

[source,text,linenums]
----
#%RAML 1.0
---
title: Leagues API
version: v1
baseUri: https://leagues.com/api/

types:
 Team:
   properties:
     name: string
     city: string

/leagues/{leagueId}:
 displayName: League resource
 description: Contains all the information about a league
 uriParameters:
   leagueId:
     displayName: League ID
     description: The ID of the league to retrieve information from
 /teams:
   get:
     displayName: Teams directory
     description: Get list of all teams in the league
     queryParameters:
       offset:
         displayName: Offset
         description: Offset for the result set
     responses:
       200:
         body:
           application/json:
               type: Team[]
   post:
     displayName: Create team
     description: Creates a new team in the league
     responses:
       201:
         description: New team has been created
----

This API is found by these searches:

[%header%autowidth.spread]
|===
|Search term |Matches
|league API |API title
|leagues.com |API baseUri
|`/leagues` |Endpoint path
|League resource |Endpoint display name
|Information about a league |Endpoint description
|POST |Endpoint method
|create team |Endpoint method description
|offset |Query parameter name, Query parameter description
|leagueid |URI parameter name
|team |Type name
|city |Type property name
|leagues leagueId teams |Endpoint path
|`/leagues/LEAGUE_ID/teams` |Endpoint path
|===

Note that the last two searches are the same, because special characters are removed before searching.


== Search by Organizations

You can select which organizations to include in each search. By default, no organization is selected in the menu, and Exchange searches MuleSoft public assets and the assets of the root organization and its business groups.

. Click *Any organization*. 
. Enter a name of a category or select one or more options from the list.
. Click *Apply*.

== Search by Categories

You can search for assets by predefined categories. You can search for a combination of categories, and you can search for multiple values for the same category. Multiple values for the same category are combined with the OR operator.

. Click *Any category*. 
. Enter a name of a category or select one or more options from the list.
. Click *Apply*.

== Search by Tags

Search by tags that were created by an Exchange administrator or organization owner.

. Click *Any tag*.
. Enter a name of a tag or select one or more options from the list.
. Click *Apply*.


== Search by Lifecycle States

In the software development lifecycle, assets are developed, released, and eventually deprecated. Each Exchange asset version moves through the lifecycle states of `development`, `stable`, and `deprecated`.

Find asset versions that are ready for consumption, in development, or have been deprecated.

. From the details asset pane, click *Any Lifecycle state*.
. Select an option from the list and click *Apply*.
. Assets in that state display in the search results.
. (Optional) Click *Save this search* to create a shortcut for this search. Saved searches display in the left navigation bar.


== Save a Search

To quickly find assets, save shortcuts to filters that you have applied. Saved searches are arranged in alphabetical order in the left navigation bar.

. Enter a search term in the *Search all assets* field and click *Save this search*.
. Enter the name for the search.
. Select an option to save as *My search* or an organization search.
. Click *Save search*.
+
Administrators can save searches visible to anyone in their current business group. Personal searches are visible only to the person who creates them.
. Confirm that your search appears in the saved searches in the left navigation bar.
+
Exchange lists search terms specific to your business group. Below those terms are saved searches you created:
+
image::ex2-saved-searches-groups.png[Saved Search Groups]

=== Rename or Delete a Saved Search

Saved searches can be renamed or deleted.

To rename a saved search: 

. Next to the name of the search in the left navigation bar, click the three dots icon.
. Select *Rename*.
. Enter a new name for the search.
. Press Enter or Return on your keyboard.

To delete a saved search, click the three dots icon and select *Delete*.

== Sort Search Results 

To select the ranking of search results, use the *Sort by* drop-down menu to choose *Relevance* (default), *Name*, *Last modified*, or *Rating*. 

Relevance sorts the matching results by where a match is found in the asset metadata, such as name, title, pages, and API specification metadata. API specification metadata includes endpoints and types.