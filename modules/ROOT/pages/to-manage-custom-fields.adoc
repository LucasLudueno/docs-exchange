= Custom Fields
ifndef::env-site,env-github[]
include::_attributes.adoc[]
endif::[]
:imagesdir: ../assets/images/

Exchange administrators and organization owners can create custom fields to extend the Exchange asset metadata model and add custom data to any type of asset.

A custom field is a key-value pair that can be added to an asset version.

Custom fields are managed, which means each asset type has a specific schema defined by an administrator. This enables Exchange to validate the values. For example, an asset can have a custom field configuration named "SupportEndDate," and Exchange can ensure that the value set for this field is a valid date.

Exchange shows custom fields in an asset's overview section:

image::custom-fields.png[]

== Supported types

Exchange supports custom fields of the types enum, number, date, text, list of numbers, and list of strings.

=== Enum

Creating a custom field configuration:

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": “enum”,
	“possibleValues”: [“OAS”,”RAML”],
	"displayName": “SubType”,
	"tagKey": “subType”
  }'
```

Adding this field to any asset in an organization:

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/subType \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": ["OAS"]
  }'
```

=== Number

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": “number”,
	"displayName": “Rating”,
	"tagKey": “rating”
  }'
```

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/rating \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": 5
  }'
```

=== Date

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": “date”,
	"displayName": “DueDate”,
	"tagKey": “dueDate”
  }'
```

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/dueDate \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": "2020-01-01T20:00:00.000Z"
}'
```

=== Text

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": "text",
	"displayName": "Email",
	"tagKey": "email"
  }'
```

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/email \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": “john@doe.com”
  }'
```

=== List of numbers

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": "number-list",
	"displayName": "SupportCases",
	"tagKey": "supportCases"
  }'
```

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/supportCases \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": [1010,2020,3030]
  }'
```

=== List of strings

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": "text-list",
	"displayName": "Maintainers",
	"tagKey": "maintainers"
  }'
```

```
curl -X PUT \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/maintainers \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json' \
  -d '{
	"tagValue": ["John", "Alice", "Fred"]
  }'
```

== Restricting Asset Types

You can restrict a custom field so that it can only be added to certain types of assets. For example, this custom field will only apply to REST APIs:

```
curl -X POST \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json' \
  -d '{
	"dataType": “enum”,
	“possibleValues”: [“OAS”,”RAML”],
	"displayName": “SubType”,
	"tagKey": “subType”,
	"assetTypeRestrictions": ["rest-api"]
  }'
```

== Deleting A Custom Field From An Asset Version

```
curl -X DELETE \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/assets/:groupId/:assetId/:version/tags/fields/:tagKey \
  -H 'Authorization: bearer <your token here>' \
  -H 'Content-Type: application/json'
```

== Deleting A Custom Field

```
curl -X DELETE \
  https://anypoint.mulesoft.com/exchange/api/v1/organizations/:organizationId/fields/:tagKey \
  -H 'Authorization: bearer <your token here>’ \
  -H 'Content-Type: application/json'
```
